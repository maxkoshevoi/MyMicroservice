version: '3.9'

services:
  mymicroservice:
    environment:
      - ASPNETCORE_ENVIRONMENT
      - APPINSIGHTS_INSTRUMENTATIONKEY
      - AppConfig__Endpoint
      - FeatureManagement__RedisCache=True
    ports:
      - "9400:80" # Exposes port 80 from container as port 9400 on local machine

  seq:
    ports:
      - "9402:80"
  
  zipkin:
    ports:
      - "9403:9411"

  healthcheckui:
    environment:
      - ASPNETCORE_ENVIRONMENT
      - APPINSIGHTS_INSTRUMENTATIONKEY
    ports:
      - "9401:80"